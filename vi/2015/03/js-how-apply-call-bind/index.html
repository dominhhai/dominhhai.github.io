<!doctype html><html lang=vi><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.40.2 with theme Tranquilpeak 0.4.1-BETA"><title>[JS] Apply, Call và Bind khác gì nhau?</title><meta name=author content="Do Minh Hai"><meta name=keywords content="JavaScript,JS,dominhhai,programming,computer science,machine learning,deep learning"><link rel=icon href=https://dominhhai.github.io/favicon/golden-buddha-512-79567.png><link rel=canonical href=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/><meta name=description content="Như trong bài về từ khóa this đã đề cập tới ngữ cảnh thực thi với mối tương quan tới từ khóa this và việc thay đổi được ngữ cảnh thực thi một cách trực tiếp bằng cách sử dụng call, apply và bind, thì bài viết này sẽ làm rõ ràng hơn 3 phương thức này và sự khác nhau cũng như tính hữu dụng của nó."><meta property=og:type content=website><meta property=og:title content="[JS] Apply, Call và Bind khác gì nhau?"><meta property=og:url content=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/><meta property=og:description content="Như trong bài về từ khóa this đã đề cập tới ngữ cảnh thực thi với mối tương quan tới từ khóa this và việc thay đổi được ngữ cảnh thực thi một cách trực tiếp bằng cách sử dụng call, apply và bind, thì bài viết này sẽ làm rõ ràng hơn 3 phương thức này và sự khác nhau cũng như tính hữu dụng của nó."><meta property=og:site_name content="Hai's Blog"><meta property=og:locale content=vi><meta name=twitter:card content=summary><meta name=twitter:title content="[JS] Apply, Call và Bind khác gì nhau?"><meta name=twitter:url content=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/><meta name=twitter:description content="Như trong bài về từ khóa this đã đề cập tới ngữ cảnh thực thi với mối tương quan tới từ khóa this và việc thay đổi được ngữ cảnh thực thi một cách trực tiếp bằng cách sử dụng call, apply và bind, thì bài viết này sẽ làm rõ ràng hơn 3 phương thức này và sự khác nhau cũng như tính hữu dụng của nó."><meta name=twitter:creator content=@minhhai3b><meta property=og:image content="https://www.gravatar.com/avatar/711b36be8e444cd1d60b348077bfd752?s=640"><meta name=twitter:image content="https://www.gravatar.com/avatar/711b36be8e444cd1d60b348077bfd752?s=640"><meta property=og:image content=https://res.cloudinary.com/dominhhai/image/upload/code/js.svg><meta name=twitter:image content=https://res.cloudinary.com/dominhhai/image/upload/code/js.svg><link rel=publisher href=https://plus.google.com/115106277658014197977><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin=anonymous><link rel=stylesheet href=https://dominhhai.github.io/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css><link rel=stylesheet crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css integrity=sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei><link rel=stylesheet href=https://dominhhai.github.io/css/main.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-105333519-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)};gtag('js',new Date());gtag('config','UA-105333519-1');</script></head><body><div id=blog><header id=header data-behavior=5><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=https://dominhhai.github.io/vi/>Hai&#39;s Blog</a></div><a class=header-right-picture href=https://dominhhai.github.io/#about><img class=header-picture src="https://www.gravatar.com/avatar/711b36be8e444cd1d60b348077bfd752?s=90" alt="Ảnh đại diện"></a></header><nav id=sidebar data-behavior=5><div class=sidebar-container><div class=sidebar-profile><a href=https://dominhhai.github.io/#about><img class=sidebar-profile-picture src="https://www.gravatar.com/avatar/711b36be8e444cd1d60b348077bfd752?s=110" alt="Ảnh đại diện"></a><h4 class=sidebar-profile-name>Do Minh Hai</h4><h5 class=sidebar-profile-bio>Just a developer<br>Enjoy life as a journey</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://dominhhai.github.io/vi/><i class="sidebar-button-icon fa fa-lg fa-home"></i><span class=sidebar-button-desc>Trang chủ</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://dominhhai.github.io/vi/categories/><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i><span class=sidebar-button-desc>Danh mục</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://dominhhai.github.io/vi/tags/><i class="sidebar-button-icon fa fa-lg fa-tags"></i><span class=sidebar-button-desc>Thẻ thông tin</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://dominhhai.github.io/vi/archives/><i class="sidebar-button-icon fa fa-lg fa-archive"></i><span class=sidebar-button-desc>Lưu trữ</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://dominhhai.github.io/vi/#about><i class="sidebar-button-icon fa fa-lg fa-address-card"></i><span class=sidebar-button-desc>Thông tin</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://dominhhai.github.io/vi/page/why/><i class="sidebar-button-icon fa fa-lg fa-question"></i><span class=sidebar-button-desc>Hỏi ngu</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/dominhhai target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-github"></i><span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://twitter.com/minhhai3b target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-twitter"></i><span class=sidebar-button-desc>Twitter</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://dominhhai.github.io/vi/index.xml><i class="sidebar-button-icon fa fa-lg fa-rss"></i><span class=sidebar-button-desc>RSS</span></a></li></ul></div></nav><div id=main data-behavior=5 class=hasCoverMetaIn><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class="post-header main-content-wrap text-center"><h1 class=post-title itemprop=headline>[JS] Apply, Call và Bind khác gì nhau?</h1><div class="postShorten-meta post-meta"><time itemprop=datePublished datetime=2015-03-28T00:00:00Z>28 tháng 3, 2015</time>
<span>mục</span>
<a class=category-link href=https://dominhhai.github.io/vi/categories/l%e1%ba%adp-tr%c3%acnh>Lập Trình</a>,
<a class=category-link href=https://dominhhai.github.io/vi/categories/js>JS</a></div></div><div class="post-content markdown" itemprop=articleBody><div class=main-content-wrap><p>Như trong bài về <a href=https://dominhhai.github.io/vi/2015/03/js-what-is-this/>từ khóa <code>this</code></a> đã đề cập tới ngữ cảnh thực thi với mối tương quan tới từ khóa <code>this</code> và việc thay đổi được ngữ cảnh thực thi một cách trực tiếp bằng cách sử dụng <code>call</code>, <code>apply</code> và <code>bind</code>, thì bài viết này sẽ làm rõ ràng hơn 3 phương thức này và sự khác nhau cũng như tính hữu dụng của nó.<h1 id=table-of-contents>Mục lục</h1><nav id=TableOfContents><ul><li><a href=#1-call-và-apply>1. Call và Apply</a></li><li><a href=#2-bind>2. Bind</a></li><li><a href=#3-vui-vẻ-tý>3. Vui vẻ tý</a></li><li><a href=#4-kết-luận>4. Kết luận</a></li><li><a href=#chú-thích><em>Chú thích</em></a></li></ul></nav></p><p>Về cơ bản <code>call</code> và <code>apply</code> gần giống nhau và được giới thiệu từ phiên bản 3 theo chuẩn ECMAScript, còn <code>bind</code> được giới thiệu từ phiên bản 5 thì lại khác hẳn về bản chất nhưng cũng có mối quan hệ mật thiết với 2 phương thức kia. Vậy nên trong bài này ta sẽ đi dần từ <code>call</code> với <code>apply</code> tới <code>bind</code>.</p><h1 id=1-call-và-apply>1. Call và Apply</h1><p>Cú pháp:</p><ul><li><p><code>call</code>: Function.prototype.call(thisArg[, arg1[ , arg2, …]])</p></li><li><p><code>apply</code>: Function.prototype.apply(thisArg, argArray)</p></li></ul><p>Phương thức <code>call()</code> và <code>apply()</code> để <strong><em>gọi thực thi</em></strong> một hàm với một ngữ cảnh chỉ định thông qua tham số <code>thisArg</code> và các tham số đầu vào của hàm tương ứng. Tức là nó sẽ cho phép hàm thực thi được với một ngữ cảnh chỉ định nào đó tuỳ ý. Sự khác nhau giữa chúng là <code>call()</code> sẽ nhận tham số hàm qua từng biến đầu vào riêng biệt còn <code>apply()</code> thì lại nhận các tham số hàm qua một mảng chứa các biến đầu vào. Ta cùng xét ví dụ bên dưới:</p><figure class="highlight js language-js"><figcaption><span>test1.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>var obj = {
    firstName: &#34;Vô&#34;,
    lastName : &#34;Danh&#34;,

    mMethod: function(firstName, lastName) {
        var firstName = firstName || this.firstName
        var lastName = lastName || this.lastName
        console.log(&#34;Hello &#34; &#43; firstName &#43; &#34; &#34; &#43; lastName)
    }
}

var obj1 = {
    firstName: &#34;Ông&#34;,
    lastName : &#34;Ké&#34;
};

obj.mMethod() // Hello Vô Danh

obj.mMethod.call(obj1) // Hello Ông Ké

obj.mMethod.apply(obj1) // Hello Ông Ké

obj.mMethod.call(obj1, &#34;Thị&#34;, &#34;Nở&#34;) // Hello Thị Nở

obj.mMethod.apply(obj1, [&#34;Chí&#34;, &#34;Phèo&#34;]) // Hello Chí Phèo</code></pre></td></tr></tbody></table></figure><p>Với đoạn mã trên ta có thể thấy rằng, sau khi gọi <code>call()</code> hoặc <code>apply()</code> ngữ cảnh thực thi của <code>mMethod</code> đã được đổi sang <code>obj1</code> và <code>call()</code> cho phép ta truyền tham số đầu vào riêng biệt còn <code>apply()</code> lại cho phép truyền vào như một mảng.</p><p>Từ phiên bản 5, <code>apply()</code> còn có thể được truyền vào một đối tượng tựa mảng (<a href=#chú-thích><em>chú thích [1]</em></a>) thay vì mảng:</p><figure class="highlight js language-js"><figcaption><span>test2.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>var obj = {
    firstName: &#34;Vô&#34;,
    lastName : &#34;Danh&#34;,

    mMethod: function(firstName, lastName) {
        var firstName = firstName || this.firstName
        var lastName = lastName || this.lastName
        console.log(&#34;Hello &#34; &#43; firstName &#43; &#34; &#34; &#43; lastName)
    }
}

var obj1 = {
    firstName: &#34;Ông&#34;,
    lastName : &#34;Ké&#34;
};

obj.mMethod.apply(obj1, [&#34;Chí&#34;, &#34;Phèo&#34;]) // Hello Chí Phèo

obj.mMethod.apply(obj1, {&#39;length&#39;: 2, &#39;0&#39;: &#34;Chí&#34;, &#39;1&#39;: &#34;Phèo&#34;}) // Hello Chí Phèo</code></pre></td></tr></tbody></table></figure><p>Với việc sử dụng <code>call()</code> hoặc <code>apply()</code> ta có thể làm được rất nhiều việc hay ho như sử dụng phương thức của một ngữ cảnh khác như ở ví dụ trên, hay đẩy ngữ cảnh thực thi cho hàm phản hồi hoặc thay đổi cách truyền tham số hàm rất hiểu quả. Các bạn có thể xem ở ví dụ sau:</p><ul><li>Truyền ngữ cảnh thực thi cho hàm phản hồi</li></ul><figure class="highlight js language-js"><figcaption><span>test3.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>function print() {
    console.log(this.mVal)
}

var obj = {
    mVal: &#34;Tôi yêu thành phố Hồ Chí Minh&#34;,

    mMethod: function(callback) {
        // truyền đối tượng hiện tại cho hàm phản hồi callback
        callback.call(this)
    }
}

obj.mMethod(print)</code></pre></td></tr></tbody></table></figure><ul><li>Thay đổi cách truyền tham số hàm</li></ul><figure class="highlight js language-js"><figcaption><span>test4.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>// Math.min([value1[,value2[, ...]]])
// Ta sử dụng mảng cho tham số đầu vào thay vì các giá trị rời rạc
console.log (Math.min.apply(null, [100, -1, 8, 219])) // -1</code></pre></td></tr></tbody></table></figure><p>Cũng không tồi đấy chứ, bằng <code>call</code>, <code>apply</code> ta có thể linh hoạt hơn khi lập trình, đỡ được nhiều công sức biến đổi rắc rối và tận dụng được mã nguồn rất hiệu quả.</p><h1 id=2-bind>2. Bind</h1><p>Cú pháp:</p><blockquote><p>Function.prototype.bind( thisArg[, arg1[ , arg2, …]])</p></blockquote><p>Phương thức <code>bind()</code> sẽ <strong><em>tạo</em></strong> ra một <strong><em>hàm mới</em></strong> có nội dung thực thi như hàm được gọi nhưng được gắn với một ngữ cảnh thực thi chỉ định qua tham số <code>thisArg</code>. Như vậy khác với <code>call()</code> và <code>apply()</code>, <code>bind()</code> sẽ không gọi để thực thi hàm mà sẽ lưu lại ngữ cảnh thực thi cho một hàm nào đó như ví dụ sau:</p><figure class="highlight js language-js"><figcaption><span>test5.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>var obj = {
    mVal: &#34;Việt Nam&#34;,

    mMethod: function() {
        console.log(&#34;Hello &#34; &#43; this.mVal)
    }
}

var oMethod = obj.mMethod.bind(obj) // this trong oMethod sẽ bị ép thành giá trị obj

oMethod() // Hello Việt Nam

obj.mVal = &#34;Hà Nội&#34;

oMethod() // Hello Hà Nội</code></pre></td></tr></tbody></table></figure><p>Như vậy khác với <code>call()</code> và <code>apply()</code>, khi gọi <code>bind()</code> hàm sẽ không thực thi ngay mà chỉ gắn ngữ cảnh thực thi cho phương thức mMethod. Vì <code>mMethod</code> được gắn với ngữ cảnh đối tượng <code>obj</code>, nên mỗi lần thực thi nó sẽ sử dụng <code>this</code> như là đối tượng <code>obj</code>. Như trong ví dụ phía trên, sau khi ta thay đổi giá trị của biến <code>mVal</code> trong đối tượng <code>obj</code> thì <code>mMethod</code> cũng sẽ in ra giá trị đã bị thay đổi.</p><p>Về bản chất thì <code>bind()</code> có thể được thực hiện như sau:</p><figure class="highlight js language-js"><figcaption><span>test6.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>Function.prototype.bind = function(context) {
    var _this = this;
    return function() {
        _this.apply(context, arguments);
    };
};</code></pre></td></tr></tbody></table></figure><p>Bằng việc sử dụng <code>apply()</code>, ta có thể thay đổi ngữ cảnh thực thi cho một hàm, còn để lưu lại ngữ cảnh dành cho việc thực thi sau này ta tạo ra một hàm mới như trong đoạn mã trên.</p><p>Vì tính chất lưu lại được ngữ cảnh nên <code>bind()</code> rất hay được sử dụng với hàm phản hồi như xử lý sự kiện click vào một nút nào đó chẳng hạn. Ví dụ như khi sử dụng jQuery, ta có thể lấy được giá trị cho <code>this</code> bằng <code>button</code> trong các hàm phản hồi của sự kiện <code>click</code> vào một <code>button</code> vì jQuery đều đã buộc (bind) sẵn <code>button</code> cho hàm phản hồi được truyền vào.</p><figure class="highlight html language-html"><figcaption><span>index.html</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre></td><td class=code><pre class="code-highlight language-html"><code class=html>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;script src=&#34;http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;script&gt;
$(document).ready(function(){
    $(&#34;#btn&#34;).click(function(){
        console.log(this)
        $(this).text(Number($(this).text()) &#43; 1)
    });
});
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button id=&#34;btn&#34;&gt;0&lt;/button&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></td></tr></tbody></table></figure><p>Ngoài ra, ta có thể làm được rất nhiều việc khá hay ho như tạo shortcut cho hàm nào đó, hay nhóm lại các tham số theo từng cụm như ví dụ bên dưới:</p><figure class="highlight js language-js"><figcaption><span>test7.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>var obj = {
    firstName: &#34;Thánh&#34;,
    lastName: &#34;Gióng&#34;,

    mMethod: function(hello, firstName, lastName) {
        var hello = hello || &#34;Hello&#34;
           ,firstName = firstName || this.firstName
           ,lastName = lastName || this.lastName

        console.log(hello &#43; &#34; &#34; &#43; firstName &#43; &#34; &#34; &#43; lastName);
    }
}

// tạo shortcut
var print = obj.mMethod.bind(obj)
print()

var print = obj.mMethod.bind(obj, &#34;Hello&#34;, &#34;Mr&#34;, &#34;Bean&#34;)
print()

// Nhóm theo hello
print = obj.mMethod.bind(obj, &#34;Xin chào bạn&#34;)
print()

// Nhóm theo firstName
print = obj.mMethod.bind(obj, &#34;Kính chào ngài&#34;, &#34;Nguyễn&#34;)
print(&#34;Trãi&#34;)
print(&#34;Xiển&#34;)</code></pre></td></tr></tbody></table></figure><h1 id=3-vui-vẻ-tý>3. Vui vẻ tý</h1><p>Như bên trên đã phân tích, khi ta cần thực thi một function cho một ngữ cảnh khác, ta cần sử dụng <code>call</code>, <code>apply</code> hoặc <code>bind</code>, nhưng có một cách vượt mặt để không cần sử dụng nó. Bạn có thể xem ví dụ sau:</p><figure class="highlight js language-js"><figcaption><span>test8.js</span></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br></pre></td><td class=code><pre class="code-highlight language-js"><code class=js>var obj = {
    firstName: &#34;Vô&#34;,
    lastName : &#34;Danh&#34;,

    mMethod: function(firstName, lastName) {
        var firstName = firstName || this.firstName
        var lastName = lastName || this.lastName
        console.log(&#34;Hello &#34; &#43; firstName &#43; &#34; &#34; &#43; lastName)
    }
}

var obj1 = {
    firstName: &#34;Ông&#34;,
    lastName : &#34;Ké&#34;
};

obj.mMethod.apply(obj1) // Hello Ông Ké

// vượt mặt ở đây
var method = Function.call.bind(obj.mMethod)

method(obj1) // Hello Ông Ké

// vượt mặt trong prototype của object
method = Function.call.bind(Array.prototype.slice)

console.log(method([100, 20, 40], 1)) // [20, 40]</code></pre></td></tr></tbody></table></figure><p>Với đoạn mã trên, ta có thế thấy rằng khi gọi <code>method</code> ta không cần phải gọi <code>call</code>, <code>apply</code> hay <code>bind</code> ra nữa mà chỉ cần đẩy trực tiếp đối tượng cần gọi và tham số vào là đủ. Khá hay ho đấy chứ? gọi <code>call</code>, <code>apply</code>, <code>bind</code> mãi cũng chán, overcome một tý thấy nó tiện hơn hẳn.</p><p>Ta có thể làm được như vậy là vì tất cả các function trong JavaScript đều kế thừa từ đối tượng <code>Function.prototype</code>, nên hiển nhiên nó có tất cả các function được định nghĩa từ <code>Function.prototype</code> như <code>call</code>, <code>apply</code> hay <code>bind</code>. Như vậy, ta hoàn toàn có thể gọi được các phương thức kế thừa này từ một function bất kì.</p><p>Với ví dụ trên, ta coi <code>obj.mMethod</code> là một đối tượng cần gọi tới phương thức <code>call</code> thì ta hoàn toàn có thể tạo một phương thức <code>method</code> trực tiếp từ phương thức <code>call</code> mà đã được gắn <code>thisVal</code> bằng <code>obj.mMethod</code>: <code>Function.call.bind(obj.mMethod)</code> hoặc <code>Function.prototype.call.bind(obj.mMethod)</code>. Hay nói cách khác, phương thức <code>method</code> mới được tạo ra có nội dung giống như phương thức <code>call</code> và đối tượng chứa nó (gọi nó - <code>this</code>) là đối tượng <code>obj.mMethod</code> nên <code>method()</code> ~ <code>obj.mMethod.call()</code>.</p><h1 id=4-kết-luận>4. Kết luận</h1><p>Bằng việc sử dụng <code>call</code>, <code>apply</code> và <code>bind</code> ta có thể thay đổi được ngữ cảnh thực thi (phạm vi chứa hàm) để sử dụng một hàm với công dụng đa năng hơn như thực thi cho một đối tượng, phạm vi khác khác giúp ta có thể tận dụng tối đa mã nguồn được đã tạo ra, hay tạo shortcut cho hàm, linh hoạt hơn tham số đầu vào. Với <code>call</code> và <code>apply</code> chúng ta sử dụng để thực thi hàm đó luôn khi gọi, còn với <code>bind</code> ta có thể thực thi hàm đó nhiều lần sau khi đã được buộc (bind) với một ngữ cảnh nhất định.</p><h1 id=chú-thích><em>Chú thích</em></h1><ul><li><strong>[1] đối tượng tựa mảng</strong>: Một đối tượng tựa mảng (array-like object) là một đối tượng có các thuộc tính là số tự nhiên và có một thuộc tính bắt buộc là <code>length</code> có giá trị bằng số các thuộc tính là số tự nhiên. Ví dụ: <code>{length: 3, 0: &quot;Tôi&quot;, 1: &quot;là&quot;, 2: &quot;người Việt&quot;}</code> hoặc <code>{'length': 3, '0': &quot;Tôi&quot;, '1': &quot;là&quot;, '2': &quot;người Việt&quot;}</code>.</li></ul></div></div><div id=post-footer class="post-footer main-content-wrap"><div class=post-footer-tags><span class="text-color-light text-small">THẺ ĐÁNH DẤU</span><br><a class="tag tag--primary tag--small" href=https://dominhhai.github.io/vi/tags/js/>JS</a>
<a class="tag tag--primary tag--small" href=https://dominhhai.github.io/vi/tags/js-tips/>JS Tips</a></div><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://dominhhai.github.io/vi/2015/05/nodeschool-hanoi-1/ data-tooltip="[NodeSchool] NodeSchool Hanoi lần 1"><i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">Tiếp</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://dominhhai.github.io/vi/2015/03/js-what-is-this/ data-tooltip="[JS] Hiểu thế nào cho đúng về biến this"><span class="hide-xs hide-sm text-small icon-mr">Trước</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/"><i class="fa fa-facebook-official"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/"><i class="fa fa-twitter"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://plus.google.com/share?url=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/"><i class="fa fa-google-plus"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread><i class="fa fa-comment-o"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#table-of-contents><i class="fa fa-list"></i></a></li></ul></div><div id=disqus_thread><noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></article><footer id=footer class=main-content-wrap><div id=helpinfo><div id=author><label id=home>Hai's Blog</label><div class=language><label for=language>Other Languages:</label>
<select id=language>
<option title="Tiếng Việt" value=vi selected>Tiếng Việt (vi)</option>
<option title=English value=en-us>English (en-us)</option>
<option title=日本語 value=ja>日本語 (ja)</option></select></div></div><div id=topic><label>Chủ đề</label><ul><li><a href=https://dominhhai.github.io/vi/categories/l%E1%BA%ADp-tr%C3%ACnh/>Lập Trình</a></li><li><a href=https://dominhhai.github.io/vi/categories/h%E1%BB%8Dc-m%C3%A1y/>Học Máy</a></li><li><a href=https://dominhhai.github.io/vi/categories/to%C3%A1n/>Toán</a></li><li><a href=https://dominhhai.github.io/vi/categories/x%C3%A1c-su%E1%BA%A5t/>Xác Suất</a></li><li><a href=https://dominhhai.github.io/vi/categories/s%C3%A1ch/>Sách</a></li></ul></div><div id=contact><label>Liên hệ</label><ul><li><a href=https://github.com/dominhhai/dominhhai.github.io/issues/new target=_blank><i class="fa fa-lg fa-inbox"></i>Gửi tin nhắn</a></li><li id=follow><a href=https://github.com/dominhhai target=_blank><i class="sidebar-button-icon fa fa-lg fa-github"></i></a><a href=https://twitter.com/minhhai3b target=_blank><i class="sidebar-button-icon fa fa-lg fa-twitter"></i></a></li></ul></div></div><div id=contentinfo><span class=copyrights>&copy; 2018 <a href=https://github.com/dominhhai>Do Minh Hai</a>. All Rights Reserved</span></div></footer></div><div id=bottom-bar class=post-bottom-bar data-behavior=5><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://dominhhai.github.io/vi/2015/05/nodeschool-hanoi-1/ data-tooltip="[NodeSchool] NodeSchool Hanoi lần 1"><i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">Tiếp</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://dominhhai.github.io/vi/2015/03/js-what-is-this/ data-tooltip="[JS] Hiểu thế nào cho đúng về biến this"><span class="hide-xs hide-sm text-small icon-mr">Trước</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/"><i class="fa fa-facebook-official"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/"><i class="fa fa-twitter"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://plus.google.com/share?url=https://dominhhai.github.io/vi/2015/03/js-how-apply-call-bind/"><i class="fa fa-google-plus"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread><i class="fa fa-comment-o"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#table-of-contents><i class="fa fa-list"></i></a></li></ul></div></div><div id=share-options-bar class=share-options-bar data-behavior=5><i id=btn-close-shareoptions class="fa fa-close"></i><ul class=share-options><li class=share-option><a class=share-option-btn target=new href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdominhhai.github.io%2Fvi%2F2015%2F03%2Fjs-how-apply-call-bind%2F"><i class="fa fa-facebook-official"></i><span>Chia sẻ với Facebook</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fdominhhai.github.io%2Fvi%2F2015%2F03%2Fjs-how-apply-call-bind%2F"><i class="fa fa-twitter"></i><span>Chia sẻ với Twitter</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://plus.google.com/share?url=https%3A%2F%2Fdominhhai.github.io%2Fvi%2F2015%2F03%2Fjs-how-apply-call-bind%2F"><i class="fa fa-google-plus"></i><span>Chia sẻ với Google&#43;</span></a></li></ul></div><div id=share-options-mask class=share-options-mask></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-remove"></i></div><img id=about-card-picture src="https://www.gravatar.com/avatar/711b36be8e444cd1d60b348077bfd752?s=110" alt="Ảnh đại diện"><h4 id=about-card-name>Do Minh Hai</h4><div id=about-card-bio>Just a developer<br>Enjoy life as a journey</div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Freelancer</div><div id=about-card-location><i class="fa fa-map-marker"></i><br>Japan</div></div></div><div id=cover style=background-image:url(https://dominhhai.github.io/images/cover-v1.2.0.jpg)></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin=anonymous></script><script src=https://dominhhai.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js></script><script crossorigin=anonymous integrity=sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js></script><script crossorigin=anonymous integrity=sha384-IiI65aU9ZYub2MY9zhtKd1H2ps7xxf+eb2YFG9lX6uRqpXCvBTOidPRCXCrQ++Uc src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/contrib/auto-render.min.js></script><script src=https://dominhhai.github.io/js/main.js></script><script>$(document).ready(function(){hljs.configure({classPrefix:'',useBR:false});$('pre.code-highlight > code, pre > code').each(function(i,block){if(!$(this).hasClass('codeblock')){$(this).addClass('codeblock');}
hljs.highlightBlock(block);});});</script><script>var disqus_config=function(){this.page.url='https:\/\/dominhhai.github.io\/vi\/2015\/03\/js-how-apply-call-bind\/';this.page.identifier='\/vi\/2015\/03\/js-how-apply-call-bind\/'};(function(){if(window.location.hostname=="localhost"){return;}
var d=document,s=d.createElement('script');var disqus_shortname='tranquilpeak';s.src='//'+disqus_shortname+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><script>if(typeof fnMain==='function'){fnMain();}</script></body></html>